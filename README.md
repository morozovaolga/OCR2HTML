OCR ‚Üí EPUB (—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∞–±–∑–∞—Ü–µ–≤ –∏ –∫–æ—Ä—Ä–µ–∫—Ç—É—Ä–æ–π)

–≠—Ç–æ—Ç –º–∏–Ω–∏‚Äë–Ω–∞–±–æ—Ä —Å–∫—Ä–∏–ø—Ç–æ–≤ –±–µ—Ä—ë—Ç PDF —Å —É–∂–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–º (OCR) —Ç–µ–∫—Å—Ç–æ–≤—ã–º —Å–ª–æ–µ–º, –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∞–±–∑–∞—Ü—ã/–∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø–æ –º–∞–∫–µ—Ç—É, –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Ä–µ—Ñ–æ—Ä–º–µ–Ω–Ω–æ–π –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏ (oldspelling), –∑–∞—Ç–µ–º –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –ø–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º —Ä—É—Å—Å–∫–æ–π –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏/—Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∏ –∏ –≤—ã–¥–∞—ë—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π HTML/TXT/EPUB. –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è EPUB —Ñ–∞–π–ª–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω–æ–π –æ–±–ª–æ–∂–∫–æ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–∞.

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.10+
- pip
- Windows/macOS/Linux

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è venv)
Windows PowerShell:
- python -m venv .venv
- .\.venv\Scripts\Activate.ps1
- python -m pip install --upgrade pip
- pip install -r requirements.txt

macOS/Linux:
- python3 -m venv .venv
- source .venv/bin/activate
- python -m pip install --upgrade pip
- pip install -r requirements.txt

–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ PDF —Å —É–∂–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–≤—ã–º —Å–ª–æ–µ–º (OCR). –ï—Å–ª–∏ –≤—Ö–æ–¥–Ω–æ–π PDF ‚Äî —Ç–æ–ª—å–∫–æ –∫–∞—Ä—Ç–∏–Ω–∫–∏, —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≥–æ–Ω–∏—Ç–µ OCR –≤–Ω–µ —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (Tesseract/Abbyy –∏ —Ç. –ø.).
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω–≤–µ–π–µ—Ä:
  - –ë–∞–∑–æ–≤–æ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–±–∑–∞—Ü–µ–≤ + –∫–æ—Ä—Ä–µ–∫—Ç—É—Ä–∞):
    - python pdf_to_epub.py --pdf path/to/file.pdf --outdir out --title "–ú–æ–π –¥–æ–∫—É–º–µ–Ω—Ç (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)" --epub-template sample.epub
  - –° –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ —à–∞–≥–∞–º–∏:
    - **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:** `--lt-cloud --natasha-sync` –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ (79.61% —Ç–æ—á–Ω–æ—Å—Ç–∏, ~8.4 —Å–µ–∫) ‚Äî —Å–º. [–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](https://morozovaolga.github.io/ocr2epub/)
    - –ë—ã—Å—Ç—Ä—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: `--lt-cloud` –¥–ª—è —Ö–æ—Ä–æ—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ (79.42% —Ç–æ—á–Ω–æ—Å—Ç–∏, ~7 —Å–µ–∫)
    - ‚ö†Ô∏è **–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:** `--post-clean` (—Å–Ω–∏–∂–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –¥–æ 77.27%) ‚Äî –∏—Å–∫–ª—é—á–µ–Ω –∏–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
  - –¢–æ—á–µ—á–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ oldspelling (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ):
    - python pdf_to_epub.py --pdf path/to/file.pdf --outdir out --title "–ë–µ–∑ oldspelling" --no-oldspelling --epub-template sample.epub
  - –î–ª—è PDF —Å –¥–≤—É–º—è –∫–æ–ª–æ–Ω–∫–∞–º–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (—Å–Ω–∞—á–∞–ª–∞ –ª–µ–≤–∞—è, –∑–∞—Ç–µ–º –ø—Ä–∞–≤–∞—è):
    - python pdf_to_epub.py --pdf path/to/file.pdf --outdir out --title "–ú–æ–π –¥–æ–∫—É–º–µ–Ω—Ç" --two-columns --epub-template sample.epub
  - –° –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π EPUB (—Ç—Ä–µ–±—É–µ—Ç —à–∞–±–ª–æ–Ω EPUB –∏ Pillow):
    - python pdf_to_epub.py --pdf path/to/file.pdf --outdir out --title "–ú–æ–π –¥–æ–∫—É–º–µ–Ω—Ç" --author "–ò–º—è –ê–≤—Ç–æ—Ä–∞" --epub-template sample.epub
  - –° –º–æ–¥–µ–ª—è–º–∏ –ù–ö–†–Ø –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–π –≤—ã—á–∏—Ç–∫–∏:
    - python pdf_to_epub.py --pdf path/to/file.pdf --outdir out --title "–ú–æ–π –¥–æ–∫—É–º–µ–Ω—Ç" --lt-cloud --stanza-tokenize --stanza-model path/to/tokenizer.pt --epub-template sample.epub

–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ out/
- structured.json ‚Äî –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ –±–ª–æ–∫–∏ —Ç–µ–∫—Å—Ç–∞ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º (—Å —Ä–æ–ª—è–º–∏ heading/paragraph)
- structured.html / structured.txt ‚Äî —á–µ—Ä–Ω–æ–≤–æ–π –≤—ã–≤–æ–¥ –ø–æ—Å–ª–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
- structured_rules.json ‚Äî –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª oldspelling –∫–æ –≤—Å–µ–º –±–ª–æ–∫–∞–º (–µ—Å–ª–∏ –Ω–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ —Ñ–ª–∞–≥–æ–º)
- final.html ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—è/—Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞, –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–µ –∞–±–∑–∞—Ü—ã (–æ—Å–Ω–æ–≤–Ω–æ–π HTML)
- final.txt ‚Äî –∏—Ç–æ–≥–æ–≤—ã–π —Ç–µ–∫—Å—Ç
- flags.json ‚Äî –ø–æ–º–µ—Ç–∫–∏ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö –∑–∞–º–µ–Ω (–¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏)
–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ):
- final_clean.txt / final_clean.html ‚Äî –ø–æ—Å–ª–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π LanguageTool (–æ–±–ª–∞–∫–æ)
- final_better.txt / final_better.html ‚Äî –ø–æ—Å–ª–µ –ø–æ—Å—Ç‚Äë–æ—á–∏—Å—Ç–∫–∏ (—Å–∫–ª–µ–π–∫–∞ –±—É–∫–≤ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª, –ª–∞—Ç–∏–Ω–∏—Ü–∞‚Üí–∫–∏—Ä–∏–ª–ª–∏—Ü–∞)
- –ù–∞–∑–≤–∞–Ω–∏–µ_–∫–Ω–∏–≥–∏.epub ‚Äî EPUB —Ñ–∞–π–ª —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ–±–ª–æ–∂–∫–æ–π (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω --epub-template)

–ö–æ–º–∞–Ω–¥–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  - python pdf_to_epub.py --pdf t1.pdf --outdir output_vol2 --title "t1.pdf (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)" [--no-oldspelling] [--lt-cloud] [--chunk-size N] [--post-clean] [--two-columns] [--epub-template PATH] [--author AUTHOR] [--epub-max-chapter-size KB]
  - --pdf ‚Äî –ø—É—Ç—å –∫ PDF
  - --outdir ‚Äî –ø–∞–ø–∫–∞ –≤—ã–≤–æ–¥–∞ (–±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞)
  - --title ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏ (–¥–ª—è HTML –∏ EPUB)
  - --no-oldspelling ‚Äî –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –∏–∑ oldspelling.py
  - --lt-cloud ‚Äî LanguageTool (–æ–±–ª–∞–∫–æ) ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏ –∏ –ø—Ä–æ–±–µ–ª–æ–≤ (–±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
  - --local-spell ‚Äî –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏ (pyspellchecker/jamspell/symspellpy) –ø–µ—Ä–µ–¥ LanguageTool
  - --local-spell-type ‚Äî —Ç–∏–ø –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≤–µ—Ä—â–∏–∫–∞: auto, pyspellchecker, jamspell, symspell (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é auto)
  - --local-spell-model ‚Äî –ø—É—Ç—å –∫ –º–æ–¥–µ–ª–∏ (–¥–ª—è jamspell) –∏–ª–∏ —Å–ª–æ–≤–∞—Ä—é (–¥–ª—è symspell)
  - --local-spell-lang ‚Äî —è–∑—ã–∫ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ru)
  - --chunk-size ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ LanguageTool (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 6000)
  - --post-clean ‚Äî –ø–æ—Å—Ç‚Äë–æ—á–∏—Å—Ç–∫–∞: —Å–∫–ª–µ–π–∫–∞ ¬´–í —ã —Ä –µ –∑ –∫ –∞¬ª, ¬´–æ–±–Ω–∏ –º–∞—é—Ç¬ª, –ª–∞—Ç–∏–Ω–∏—Ü–∞‚Üí–∫–∏—Ä–∏–ª–ª–∏—Ü–∞ (‚ö†Ô∏è –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: —Å–Ω–∏–∂–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –¥–æ 77.27% –ø—Ä–æ—Ç–∏–≤ 79.42% —Å LanguageTool)
  - --two-columns ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü —Å –¥–≤—É–º—è –∫–æ–ª–æ–Ω–∫–∞–º–∏: —Å–Ω–∞—á–∞–ª–∞ –≤—Å–µ –±–ª–æ–∫–∏ –ª–µ–≤–æ–π –∫–æ–ª–æ–Ω–∫–∏ (—Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑), –∑–∞—Ç–µ–º –≤—Å–µ –±–ª–æ–∫–∏ –ø—Ä–∞–≤–æ–π –∫–æ–ª–æ–Ω–∫–∏ (—Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑)
  - --epub-template PATH ‚Äî –ø—É—Ç—å –∫ —à–∞–±–ª–æ–Ω—É EPUB (–Ω–∞–ø—Ä–∏–º–µ—Ä, sample.epub). –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç EPUB –∏–∑ –ª—É—á—à–µ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ HTML/JSON. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—â–µ—Ç sample.epub –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å `final_clean.txt`, –∏–Ω–∞—á–µ EPUB –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è)
  - --epub-max-chapter-size KB ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –≥–ª–∞–≤—ã (–≤ –∫–∏–ª–æ–±–∞–π—Ç–∞—Ö) –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ EPUB (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50 KB); –µ—Å–ª–∏ –≤ —Ç–µ–∫—Å—Ç–µ –Ω–µ—Ç —è–≤–Ω–æ –æ—Ç–º–µ—á–µ–Ω–Ω—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, –≥–ª–∞–≤—ã —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –ø–æ —Ä–∞–∑–º–µ—Ä—É
  - --cover-colors COLORS ‚Äî –ø—è—Ç—å HEX-—Ü–≤–µ—Ç–æ–≤ –≤ –ø–æ—Ä—è–¥–∫–µ: –ø–æ–ª–æ—Å–∫–∞ —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º, –≤–µ—Ä—Ö–Ω–∏–π –±–ª–æ–∫, –∑–∞–≥–æ–ª–æ–≤–æ–∫, –Ω–∞—á–∞–ª–æ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ –Ω–∏–∂–Ω–µ–π –∑–æ–Ω—ã –∏ –∫–æ–Ω–µ—Ü –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞. –ê–≤—Ç–æ—Ä—Å–∫–∏–π —Ç–µ–∫—Å—Ç –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–ª—ã–º –∏–ª–∏ —á—ë—Ä–Ω—ã–º, —á—Ç–æ–±—ã –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –≤–µ—Ä—Ö–Ω–∏–º –±–ª–æ–∫–æ–º.
  - --author AUTHOR ‚Äî –∏–º—è –∞–≤—Ç–æ—Ä–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ–±–ª–æ–∂–∫–∏ EPUB
  - --natasha-types TYPES ‚Äî —Ç–∏–ø—ã —Å—É—â–Ω–æ—Å—Ç–µ–π –¥–ª—è Natasha (`PER`, `LOC`, `ORG`). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `PER,LOC`.
  - --natasha-check ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –º–µ–∂–¥—É PDF –∏ `final_clean.txt` —Å –ø–æ–º–æ—â—å—é Natasha
  - --natasha-out FILE ‚Äî –∏–º—è —Ñ–∞–π–ª–∞ –æ—Ç—á—ë—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `natasha_diff.txt`, —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ –ø–∞–ø–∫–µ –≤—ã–≤–æ–¥–∞)
  - --natasha-sync ‚Äî –≥–∞—Ä–º–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å `final_clean.txt` —Å —É–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏ –∏–∑ PDF (–∑–∞–º–µ–Ω—ã PER/LOC/ORG)
  - --natasha-sync-report FILE ‚Äî –æ—Ç—á—ë—Ç –æ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã—Ö –∑–∞–º–µ–Ω–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `natasha_sync.txt` –≤ –ø–∞–ø–∫–µ –≤—ã–≤–æ–¥–∞)
  - --context-check ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (`–æ–Ω —à–µ–ª–∫`, –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ+–≥–ª–∞–≥–æ–ª) —á–µ—Ä–µ–∑ pymorphy2
  - --context-out FILE ‚Äî —Ñ–∞–π–ª —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `context_warnings.txt`)
  - --context-pronouns LIST ‚Äî —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `–æ–Ω,–æ–Ω–∞,–æ–Ω–æ,–æ–Ω–∏,–º—ã,–≤—ã,—Ç—ã`)
  - --stanza-tokenize ‚Äî —É–ª—É—á—à–∏—Ç—å —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä–∞ Stanza –ù–ö–†–Ø
  - --stanza-model PATH ‚Äî –ø—É—Ç—å –∫ –º–æ–¥–µ–ª–∏ Stanza (.pt —Ñ–∞–π–ª). –°–∫–∞—á–∞–π—Ç–µ —Å https://ruscorpora.ru/license-content/neuromodels
- --natasha-check ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –º–µ–∂–¥—É PDF –∏ `final_clean.txt` —Å –ø–æ–º–æ—â—å—é Natasha (PER/LOC/ORG)
- --natasha-out FILE ‚Äî –∏–º—è —Ñ–∞–π–ª–∞ –æ—Ç—á—ë—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `natasha_diff.txt`, —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ –≤—ã—Ö–æ–¥–Ω–æ–π –ø–∞–ø–∫–µ)

–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç LanguageTool:
LanguageTool ‚Äî —ç—Ç–æ –æ–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –∏ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏. –í —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π, –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π —Å—Ç–∏–ª–∏—Å—Ç–∏–∫–∏ –∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏.

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
1. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç —á–∞—Å—Ç—è–º–∏ (–ø–æ –∞–±–∑–∞—Ü–∞–º, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ 6000 —Å–∏–º–≤–æ–ª–æ–≤, —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `--chunk-size`) –≤ –æ–±–ª–∞—á–Ω—ã–π API LanguageTool
2. –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
3. –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ "–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ" –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
   - –û—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (MORFOLOGIK) ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, "–º–∞—à—ã–Ω–∞" ‚Üí "–º–∞—à–∏–Ω–∞", "–∫–∞—Ä–æ–≤–∞" ‚Üí "–∫–æ—Ä–æ–≤–∞"
   - –ü—Ä–æ–±–µ–ª—ã (WHITESPACE, SPACE) ‚Äî –ª–∏—à–Ω–∏–µ –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø—Ä–æ–±–µ–ª—ã
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã (MULTIPLE_SPACES) ‚Äî "–¥–≤–∞   –ø—Ä–æ–±–µ–ª–∞" ‚Üí "–¥–≤–∞ –ø—Ä–æ–±–µ–ª–∞"
   - –î–≤–æ–π–Ω–∞—è –ø—É–Ω–∫—Ç—É–∞—Ü–∏—è (DOUBLE_PUNCTUATION) ‚Äî "??" ‚Üí "?"
4. –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–æ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –∏–∑–±–µ–≥–∞–µ—Ç –ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏—Ö—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ LanguageTool –¥–∞—ë—Ç –±–µ–∑–æ–ø–∞—Å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏ –∏ –ø—Ä–æ–±–µ–ª–æ–≤.

### –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏

–î–ª—è —Ä–∞–±–æ—Ç—ã –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏–ª–∏ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏. –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–ø–µ—Ä–µ–¥** LanguageTool, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –æ–±–∞ –ø–æ–¥—Ö–æ–¥–∞ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏.

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

1. **pyspellchecker** ‚Äî –ø—Ä–æ—Å—Ç–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω–∞:
   ```bash
   pip install pyspellchecker
   python pdf_to_epub.py --pdf book.pdf --local-spell --local-spell-type pyspellchecker --epub-template sample.epub
   ```

2. **jamspell** ‚Äî –±–æ–ª–µ–µ —Ç–æ—á–Ω–∞—è –º–æ–¥–µ–ª—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (—Ç—Ä–µ–±—É–µ—Ç –º–æ–¥–µ–ª—å):
   ```bash
   pip install jamspell
   python pdf_to_epub.py --pdf book.pdf --local-spell --local-spell-type jamspell --local-spell-model path/to/model.bin --epub-template sample.epub
   ```

3. **symspellpy** ‚Äî –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è (—Ç—Ä–µ–±—É–µ—Ç —Å–ª–æ–≤–∞—Ä—å):
   ```bash
   pip install symspellpy
   python pdf_to_epub.py --pdf book.pdf --local-spell --local-spell-type symspell --local-spell-model path/to/dictionary.txt --epub-template sample.epub
   ```


–ß—Ç–æ –ù–ï –¥–µ–ª–∞–µ—Ç:
- –ù–µ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∏–ª–∏—Å—Ç–∏–∫—É
- –ù–µ –º–µ–Ω—è–µ—Ç –≥—Ä–∞–º–º–∞—Ç–∏–∫—É (—Ç–æ–ª—å–∫–æ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—é)
- –ù–µ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ OCR (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—è–ª—É—á—à–µ" ‚Üí "—è –ª—É—á—à–µ")
- –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏

–†–µ–∑—É–ª—å—Ç–∞—Ç: —Ñ–∞–π–ª—ã final_clean.txt –∏ final_clean.html —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏.

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è EPUB (--epub-template):
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å EPUB —Ñ–∞–π–ª—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–∞ EPUB –∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.

–ß—Ç–æ –Ω—É–∂–Ω–æ:
1. –®–∞–±–ª–æ–Ω EPUB —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, sample.epub) –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ —É–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ –Ω–µ–º—É
2. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Pillow: pip install Pillow

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
1. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª—É—á—à–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ —Ç–µ–∫—Å—Ç–∞ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: final_better.html > final_clean.txt > final_clean.html > final.txt > structured_rules.json > structured.json)
2. `generate_epub.py` —É–º–µ–µ—Ç —á–∏—Ç–∞—Ç—å `.txt`, –ø–æ—ç—Ç–æ–º—É EPUB —Å—Ç—Ä–æ–∏—Ç—Å—è –ø–æ –∏—Ç–æ–≥–æ–≤–æ–º—É `final_clean.txt`, –µ—Å–ª–∏ –æ–Ω –ø–æ—è–≤–∏–ª—Å—è –ø–æ—Å–ª–µ LanguageTool
3. –ü—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ `.txt` —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ –Ω–∞—á–∞–ª–µ –∞–±–∑–∞—Ü–∞ —Å—á–∏—Ç–∞—é—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏: `–ß–∞—Å—Ç—å`, `–ì–ª–∞–≤–∞`, `–†–∞–∑–¥–µ–ª`, `–ö–Ω–∏–≥–∞` (—Å —Ü–∏—Ñ—Ä–æ–π), `***` –∏–ª–∏ —Ä–∏–º—Å–∫–∏–µ —á–∏—Å–ª–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–±–∏—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞ –≥–ª–∞–≤—ã –±–µ–∑ –≥–æ—Ç–æ–≤–æ–π HTML-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
4. –†–∞–∑–±–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –Ω–∞ —Ä–∞–∑–¥–µ–ª—ã (–ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º –∏–ª–∏ —Ä–∞–∑–º–µ—Ä—É, –¥–æ 50 KB –Ω–∞ —Ä–∞–∑–¥–µ–ª)
5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ–±–ª–æ–∂–∫—É —Å –≤–µ—Ä—Ö–Ω–∏–º –±–ª–æ–∫–æ–º, –ø–æ–ª–æ—Å–∫–æ–π –∏ –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω–æ–π –Ω–∏–∂–Ω–µ–π –∑–æ–Ω–æ–π ‚Äî —Ç–µ–∫—Å—Ç –∞–≤—Ç–æ—Ä–∞ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è –≤—ã—Ä–æ–≤–Ω–µ–Ω –∏ –æ—Ç—Ç–∏–ø–æ–≥—Ä–∞—Ñ–ª–µ–Ω.
6. –ü–æ –∂–µ–ª–∞–Ω–∏—é –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Ç–æ—á–Ω—É—é –ø–∞–ª–∏—Ç—Ä—É —á–µ—Ä–µ–∑ `--cover-colors "#f4f1de,#e07a5f,#3d405b,#81b29a,#f2cc8f"` (–ø–µ—Ä–≤—ã–µ —Ç—Ä–∏ —Ü–≤–µ—Ç–∞ –¥–ª—è –ø–æ–ª–æ—Å–∫–∏, –≤–µ—Ä—Ö–Ω–µ–≥–æ –±–ª–æ–∫–∞ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞, –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–≤–∞ ‚Äî –¥–ª—è –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ –Ω–∏–∂–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏).
7. –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–∏—Ç—É–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ
8. –°–æ–∑–¥–∞–µ—Ç EPUB —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ out/

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```bash
# –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π EPUB
python pdf_to_epub.py --pdf book.pdf --outdir out --title "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏" --author "–ò–º—è –ê–≤—Ç–æ—Ä–∞" --two-columns --no-oldspelling --lt-cloud --epub-template sample.epub

# –ò–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ (–µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π HTML)
python generate_epub.py --template sample.epub --in out/final_better.html --out out/book.epub --title "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏" --author "–ò–º—è –ê–≤—Ç–æ—Ä–∞"
```

## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–±–ª–æ–∂–∫–∏ –æ—Ç–¥–µ–ª—å–Ω–æ

–ï—Å–ª–∏ —Ö–æ—á–µ—Ç—Å—è —Å—Ä–∞–∑—É —É–≤–∏–¥–µ—Ç—å –æ–±–ª–æ–∂–∫—É, –Ω–µ –∑–∞–ø—É—Å–∫–∞—è –≤–µ—Å—å pipeline, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `generate_cover.py`. –û–Ω –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ–±–ª–æ–∂–∫—É —Å –≤–µ—Ä—Ö–Ω–∏–º –±–ª–æ–∫–æ–º, –ø–æ–ª–æ—Å–∫–æ–π —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º –∏ –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω–æ–π –Ω–∏–∂–Ω–µ–π –∑–æ–Ω–æ–π.

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
python generate_cover.py \
  --title "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏" \
  --author "–ò–º—è –ê–≤—Ç–æ—Ä–∞" \
  --out cover-only.jpg
```

–ë–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è —Ü–≤–µ—Ç–æ–≤ –æ–±–ª–æ–∂–∫–∞ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å–æ —Å–ª—É—á–∞–π–Ω–æ–π –ø–∞–ª–∏—Ç—Ä–æ–π.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –ø–∞–ª–∏—Ç—Ä–æ–π –∏–∑ 5 —Ü–≤–µ—Ç–æ–≤

–ú–æ–∂–Ω–æ —è–≤–Ω–æ –∑–∞–¥–∞—Ç—å –≤—Å–µ —Ü–≤–µ—Ç–∞ –æ–±–ª–æ–∂–∫–∏ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä `--cover-colors`:

```bash
python generate_cover.py \
  --title "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏" \
  --author "–ò–º—è –ê–≤—Ç–æ—Ä–∞" \
  --cover-colors "#8ecae6,#219ebc,#023047,#ffb703,#fb8500" \
  --out cover-only.jpg
```

**–ü–æ—Ä—è–¥–æ–∫ —Ü–≤–µ—Ç–æ–≤ (5 HEX-–∑–Ω–∞—á–µ–Ω–∏–π —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é):**
1. **–ü–æ–ª–æ—Å–∫–∞ —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º** ‚Äî –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç—ë–º–Ω–æ–π, —Ç–∞–∫ –∫–∞–∫ –ª–æ–≥–æ—Ç–∏–ø –±–µ–ª—ã–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `#023047`)
2. **–í–µ—Ä—Ö–Ω–∏–π –±–ª–æ–∫** ‚Äî —Ñ–æ–Ω –¥–ª—è –∞–≤—Ç–æ—Ä–∞ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `#219ebc`)
3. **–¶–≤–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞** ‚Äî –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫ —Ç–µ–∫—Å—Ç—É –∑–∞–≥–æ–ª–æ–≤–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `#023047`)
4. **–ù–∞—á–∞–ª–æ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ –Ω–∏–∂–Ω–µ–π –∑–æ–Ω—ã** ‚Äî –ø–µ—Ä–≤—ã–π —Ü–≤–µ—Ç –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ –≤ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–æ–π —á–∞—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `#ffb703`)
5. **–ö–æ–Ω–µ—Ü –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ –Ω–∏–∂–Ω–µ–π –∑–æ–Ω—ã** ‚Äî –≤—Ç–æ—Ä–æ–π —Ü–≤–µ—Ç –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `#fb8500`)

**–í–∞–∂–Ω–æ:**
- –ò–º—è –∞–≤—Ç–æ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–µ–ª—ã–º –∏–ª–∏ —á—ë—Ä–Ω—ã–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —è—Ä–∫–æ—Å—Ç–∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ –±–ª–æ–∫–∞
- –¶–≤–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é, –±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π
- –ì—Ä–∞–¥–∏–µ–Ω—Ç –Ω–∏–∂–Ω–µ–π –∑–æ–Ω—ã –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–º, –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–º, –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–º –∏–ª–∏ —Ä–∞–¥–∏–∞–ª—å–Ω—ã–º (–≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ)
- –õ–æ–≥–æ—Ç–∏–ø –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ –ø–æ–ª–æ—Å–∫–µ –∏ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –Ω–∞ 10 –ø–∏–∫—Å–µ–ª–µ–π –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≤—ã—Å–æ—Ç—ã –ø–æ–ª–æ—Å–∫–∏

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```bash
python generate_cover.py \
  --title "–ù–∞–∑–≤–∞–Ω–∏–µ" \
  --author "–ê–≤—Ç–æ—Ä" \
  --cover-colors "#8ecae6,#219ebc,#023047,#ffb703,#fb8500" \
  --width 1200 \
  --height 1600 \
  --out cover-only.jpg
```

- `--width` ‚Äî —à–∏—Ä–∏–Ω–∞ –æ–±–ª–æ–∂–∫–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1200)
- `--height` ‚Äî –≤—ã—Å–æ—Ç–∞ –æ–±–ª–æ–∂–∫–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1600)

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö:
```bash
python compare_pdf_clean_names.py --pdf makar/makar.pdf --clean out/final_clean.txt --modern-pdf --out out/name_diff.txt
```
–°–∫—Ä–∏–ø—Ç –∏—â–µ—Ç —Ñ—Ä–∞–∑—ã, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å –∑–∞–≥–ª–∞–≤–Ω—ã—Ö —Å–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `–ì–ª–∞–≤–∞ I`, `–ß–∞—Å—Ç—å IV`, `–ò–º—è`) –≤ PDF –∏ `final_clean.txt` –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.

Natasha (NER) –¥–ª—è –±–æ–ª–µ–µ –Ω–∞—Å—ã—â–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
python natasha_entity_check.py --pdf sn.pdf --clean out/final_clean.txt --out out/sn_natasha.txt --types PER,LOC,ORG
```
–£—Ç–∏–ª–∏—Ç–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤ `PER`, `LOC`, `ORG` —á–µ—Ä–µ–∑ Natasha –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∏—Ö –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –º–µ–∂–¥—É PDF –∏ `final_clean.txt`. –û—Ç—á—ë—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —Å—É—â–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –¥—Ä—É–≥–æ–º. –ü–∞—Ä–∞–º–µ—Ç—Ä `--types` –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–±—Ä–∞—Ç—å –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã —Å—É—â–Ω–æ—Å—Ç–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ `PER` –∏ `LOC`).

–ì–∞—Ä–º–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –ø–æ –ù–∞—Ç–∞—à–µ:
```bash
python natasha_sync.py --pdf sn.pdf --clean out/final_clean.txt --report out/sn_natasha_sync.txt --types PER,LOC,ORG
```
–°–∫—Ä–∏–ø—Ç –∑–∞–º–µ–Ω—è–µ—Ç –≤ `final_clean.txt` –≤—Å–µ –≤–∞—Ä–∏–∞—Ü–∏–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π (PER/LOC/ORG), –∫–æ—Ç–æ—Ä—ã–µ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å –∏ –≤ PDF, –Ω–æ –±—ã–ª–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –∫ –∏–Ω—ã–º —Ñ–æ—Ä–º–∞–º –ø–æ—Å–ª–µ –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ EPUB –º–æ–∂–Ω–æ –∑–∞–Ω–æ–≤–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å, –∏ –∏–º–µ–Ω–∞/–≥–µ–æ–≥—Ä–∞—Ñ–∏–∏ —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º.

–ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —à–∞–≥ –≤ `pdf_to_epub.py`:
```bash
python pdf_to_epub.py ... --natasha-check --natasha-sync --natasha-out out/sn_natasha.txt --natasha-sync-report out/sn_natasha_sync.txt
```
–§–ª–∞–≥–∏ `--natasha-types`, `--natasha-check`, `--natasha-sync` –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ—Ç—á—ë—Ç—ã —É–ø—Ä–∞–≤–ª—è—é—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –≥–∞—Ä–º–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ—Å–ª–µ LanguageTool.

–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
```bash
python context_checker.py --in out/final_clean.txt --out out/context_warnings.txt --pronouns –æ–Ω,–æ–Ω–∞,–æ–Ω–æ,–æ–Ω–∏
```
–°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `pymorphy2`, –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∞–≤–∏–ª:  
1) ¬´–º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ + —Å–ª–µ–¥—É—é—â–µ–µ —Å–ª–æ–≤–æ¬ª ‚Äî –µ—Å–ª–∏ –≤—Ç–æ—Ä–æ–µ —Å–ª–æ–≤–æ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç—Å—è –∫–∞–∫ –≥–ª–∞–≥–æ–ª/–∏–Ω—Ñ–∏–Ω–∏—Ç–∏–≤, –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ;  
2) ¬´—Å–∫–ª–µ–∏–≤–∞–Ω–∏–µ —Å–æ—Å–µ–¥–Ω–∏—Ö —Å–ª–æ–≤¬ª ‚Äî –µ—Å–ª–∏ –¥–≤–∞ —Å–ª–æ–≤–∞ `—É–º–µ—Ä —à–µ–π` –¥–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—É—é —Ñ–æ—Ä–º—É `—É–º–µ—Ä—à–µ–π`, –æ–Ω –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –∏—Ö –¥–æ —Å–∫–ª–µ–π–∫–∏.  
–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–π —á–µ—Ä–µ–∑ `--context-pronouns`.

–ò–ª–∏ –≤–∫–ª—é—á–∏—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –≤ `pdf_to_epub.py`:
```bash
python pdf_to_epub.py ... --context-check --context-out out/context_warnings.txt --natasha-check --natasha-sync
```
`--context-check` –∑–∞–ø—É—Å–∫–∞–µ—Ç `context_checker.py` —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ LanguageTool, –µ—â—ë –¥–æ –ø–æ—Å—Ç‚Äë–æ—á–∏—Å—Ç–∫–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ EPUB.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: `pyspellchecker` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –Ω–æ–≤—ã–π —ç—Ç–∞–ø –ø–æ—Å–ª–µ LT (–æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–∫—Ä–∏–ø—Ç–æ–º) ‚Äî –æ–Ω —Ö–æ—Ä–æ—à–æ –ª–æ–≤–∏—Ç —Ä–µ–¥–∫–∏–µ —Å–ª–æ–≤–∞ –∏ –æ—á–µ–≤–∏–¥–Ω—ã–µ –æ–ø–µ—á–∞—Ç–∫–∏, –Ω–æ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–±–æ—Ä.

–ú–æ–¥–µ–ª–∏ –ù–ö–†–Ø –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–π –≤—ã—á–∏—Ç–∫–∏:
–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π –∏–∑ [–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ—Ä–ø—É—Å–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞](https://ruscorpora.ru/license-content/neuromodels) –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–π –≤—ã—á–∏—Ç–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤ –ø–æ—Å–ª–µ OCR.

### –¢–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä Stanza

–£–ª—É—á—à–∞–µ—Ç —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏ —Ç–æ–∫–µ–Ω—ã (—Ç–æ—á–Ω–æ—Å—Ç—å 95.6% –¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π, 99.6% –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤).

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: `pip install stanza~=1.8.1`
2. –°–∫–∞—á–∞—Ç—å –º–æ–¥–µ–ª—å —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä–∞ —Å [—Å—Ç—Ä–∞–Ω–∏—Ü—ã –ù–ö–†–Ø](https://ruscorpora.ru/license-content/neuromodels) (—Ñ–∞–π–ª .pt, ~641KB)
3. –ü—Ä–∏–Ω—è—Ç—å –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –ù–ö–†–Ø

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –í pdf_to_epub.py
python pdf_to_epub.py --pdf book.pdf --outdir out --title "–ö–Ω–∏–≥–∞" --stanza-tokenize --stanza-model path/to/tokenizer.pt --epub-template sample.epub

# –û—Ç–¥–µ–ª—å–Ω–æ
python stanza_tokenizer.py --in out/structured.json --out out/structured_tokenized.json --model path/to/tokenizer.pt
```

–¢–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –Ω–æ –¥–æ –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏, —á—Ç–æ —É–ª—É—á—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ —Ä–∞–∑–±–∏–µ–Ω–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∏ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ—Å—Ç-–æ—á–∏—Å—Ç–∫–µ.


–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–±–ª–æ–∂–∫–∏ —Å –≤–µ—Ä—Ö–Ω–∏–º –±–ª–æ–∫–æ–º, –ø–æ–ª–æ—Å–∫–æ–π, —Ç–µ–∫—Å—Ç–æ–º –∏ –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω–æ–π –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –∑–æ–Ω–æ–π, –ø—Ä–∏—á–µ–º –≥—Ä–∞—Ñ–∏–∫–∞ –º–æ–∂–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è—Ö (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π, –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π, –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π, —Ä–∞–¥–∏–∞–ª—å–Ω—ã–π)
- –ú–æ–∂–Ω–æ —è–≤–Ω–æ –∑–∞–¥–∞—Ç—å –ø–∞–ª–∏—Ç—Ä—É —á–µ—Ä–µ–∑ `--cover-colors`, —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–∞–∂–¥–æ–π –∑–æ–Ω–æ–π –æ–±–ª–æ–∂–∫–∏ (–ø–æ–ª–æ—Å–∫–∞, –≤–µ—Ä—Ö–Ω–∏–π –±–ª–æ–∫, –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –≥—Ä–∞–¥–∏–µ–Ω—Ç)
- –†–∞–∑–¥–µ–ª—ã –Ω—É–º–µ—Ä—É—é—Ç—Å—è –Ω–∞—á–∏–Ω–∞—è —Å 1 (Section0001.xhtml, Section0002.xhtml –∏ —Ç.–¥.)
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–∏—Ç—É–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Titul.xhtml) —Å –Ω–æ–≤—ã–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ –∞–≤—Ç–æ—Ä–æ–º
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ (toc.ncx) —Å –Ω–æ–≤—ã–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞–∫ HTML (final_*.html), —Ç–∞–∫ –∏ JSON (structured*.json) –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞

–°—Ä–∞–≤–Ω–µ–Ω–∏–µ PDF ‚Üî clean_txt (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
 - compare_pdf_clean_names.py ‚Äî —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã –º–µ–∂–¥—É PDF (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—è) –∏ `final_clean.txt`, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è.
 - natasha_entity_check.py ‚Äî –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ —Ç–∏–ø–∞ PER/LOC/ORG —á–µ—Ä–µ–∑ Natasha –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∏—Ö –º–µ–∂–¥—É PDF –∏ `final_clean.txt`, –æ—Ç—á—ë—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `natasha_diff.txt`

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü—Ä–æ–≤–µ–¥–µ–Ω–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (63 –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏) —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏:
- –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ —Ç–∏–ø–∞–º –æ—à–∏–±–æ–∫ OCR (–∑–∞–º–µ–Ω—ã –±—É–∫–≤, —Å–∫–ª–µ–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞, —Ä–∞–∑–æ—Ä–≤–∞–Ω–Ω—ã–µ —Å–ª–æ–≤–∞, –ª–∞—Ç–∏–Ω–∏—Ü–∞/–∫–∏—Ä–∏–ª–ª–∏—Ü–∞, –ø—Ä–æ–±–µ–ª—ã –≤ —Å–ª–æ–≤–∞—Ö)
- Precision, Recall, F1-score –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –æ—à–∏–±–æ–∫
- –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∏–º—ë–Ω —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏ —Ç–æ–ø–æ–Ω–∏–º–æ–≤ (PER, LOC, ORG)
- –ú–µ—Ç—Ä–∏–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞
- –ê–Ω–∞–ª–∏–∑ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:** [–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥](https://morozovaolga.github.io/ocr2epub/) ‚Äî —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Ö –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

**–õ—É—á—à–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏:**
- üèÜ **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ:** `--lt-cloud --natasha-sync` (79.61% —Ç–æ—á–Ω–æ—Å—Ç–∏, ~8.4 —Å–µ–∫)
- ‚ö° **–ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:** `--lt-cloud` (79.42% —Ç–æ—á–Ω–æ—Å—Ç–∏, ~7 —Å–µ–∫)
- üìä **–ë–∞–∑–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:** —Ç–æ–ª—å–∫–æ –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è (73.90% —Ç–æ—á–Ω–æ—Å—Ç–∏, ~1 —Å–µ–∫)

**–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- ‚ùå `--post-clean` ‚Äî —Å–Ω–∏–∂–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å (77.27% –ø—Ä–æ—Ç–∏–≤ 79.42%)
- ‚ùå `--local-spell` —Å pyspellchecker ‚Äî –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ (–¥–æ 52.4%)

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏
- pdf_to_epub.py ‚Äî –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä)
- extract_structured_text.py ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤/—Ä–æ–ª–µ–π
- apply_rules_structured.py ‚Äî –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª oldspelling –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
- modernize_structured.py ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—è/—Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞; HTML/TXT/flags
- lt_cloud.py ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è LanguageTool (–æ–±–ª–∞–∫–æ)
- post_cleanup.py ‚Äî –ø–æ—Å—Ç‚Äë–æ—á–∏—Å—Ç–∫–∞ ¬´–±—É–∫–≤—ã —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª¬ª, ¬´–æ–±–Ω–∏ –º–∞—é—Ç¬ª, –ª–∞—Ç–∏–Ω–∏—Ü–∞‚Üí–∫–∏—Ä–∏–ª–ª–∏—Ü–∞
- generate_epub.py ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è EPUB –∏–∑ HTML/JSON —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±–ª–æ–∂–∫–æ–π
- compare_pdf_clean_names.py ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ–∂–¥—É PDF –∏ final_clean.txt
- natasha_entity_check.py ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π (PER/LOC/ORG) —á–µ—Ä–µ–∑ Natasha
- natasha_sync.py ‚Äî –≥–∞—Ä–º–æ–Ω–∏–∑–∞—Ü–∏—è `final_clean.txt` –ø–æ —Å—É—â–Ω–æ—Å—Ç—è–º –∏–∑ PDF
- context_checker.py ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ+–≥–ª–∞–≥–æ–ª
- stanza_tokenizer.py ‚Äî —É–ª—É—á—à–µ–Ω–Ω–∞—è —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é –º–æ–¥–µ–ª–∏ Stanza –ù–ö–†–Ø
- oldspelling.py ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Ä–µ—Ñ–æ—Ä–º–µ–Ω–Ω–æ–π –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏ (regex‚Äë–∑–∞–º–µ–Ω—ã)
- requirements.txt ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (PyMuPDF, Pillow, natasha, stanza, pyspellchecker, symspellpy)
- .gitignore ‚Äî –∏—Å–∫–ª—é—á–µ–Ω–∏—è

